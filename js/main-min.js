(function(){function W(){if(L<4){X();call=false}if(L===580){X();call=false}if(L===1280){X();call=false}}function X(){var e=$("#audio");e.get(0).play()}function V(e){e.drawImage(r,0,0);e.restore();e.save();e.translate(235+b,230+w);e.rotate(T);e.translate(-235-b,-230-w);e.drawImage(s,b,w);e.restore()}function J(e,t,n){e.save();e.beginPath();e.moveTo(t-14,n+14);e.lineTo(t-6,n+14);e.lineWidth=1;e.strokeStyle="rgb(236, 27, 35)";e.lineJoin="miter";e.miterLimit=4;e.stroke();e.beginPath();e.moveTo(t,n);e.lineTo(t,n+8);e.stroke();e.beginPath();e.moveTo(t+14,n+14);e.lineTo(t+6,n+14);e.stroke();e.beginPath();e.moveTo(t,n+28);e.lineTo(t,n+20);e.stroke();e.restore();e.restore()}function K(e){goose1PosX=z[0].dx-L;goose2PosX=z[1].dx-L;goose3PosX=z[2].dx-L;goose4PosX=z[3].dx-L;goose5PosX=z[4].dx-L;goose6PosX=z[5].dx-L;goose7PosX=z[6].dx-L;goose8PosX=z[7].dx-L;$goosey2=z[1];$goosey3=z[2];$goosey4=z[3];$goosey5=z[4];$goosey6=z[5];$goosey7=z[6];$goosey8=z[7];if(M){R.dy=R.dy+a;a=a+.1;if(R.dy>360){M=false}}if(_){$goosey2.dy=$goosey2.dy+f;f=f+.1;if($goosey2.dy>360){_=false}}if(D){$goosey3.dy=$goosey3.dy+l;l=l+.1;if($goosey3.dy>360){D=false}}if(P){$goosey4.dy=$goosey4.dy+c;c=c+.1;if($goosey4.dy>360){D=false}}if(H){$goosey5.dy=$goosey5.dy+h;h=h+.1;if($goosey3.dy>360){D=false}}if(B){$goosey6.dy=$goosey6.dy+p;p=p+.1;if($goosey6.dy>360){B=false}}if(j){$goosey7.dy=$goosey7.dy+d;d=d+.1;if($goosey7.dy>360){D=false}}if(F){$goosey8.dy=$goosey8.dy+v;v=v+.1;if($goosey8.dy>360){D=false}}if(k<10){e.drawImage(R.img,R.sx1,R.sy,R.sw,R.sh,goose1PosX,R.dy,R.dw,R.dh);e.drawImage($goosey2.img,$goosey2.sx1,$goosey2.sy,$goosey2.sw,$goosey2.sh,goose2PosX,$goosey2.dy,$goosey2.dw,$goosey2.dh);e.drawImage($goosey3.img,$goosey3.sx1,$goosey3.sy,$goosey3.sw,$goosey3.sh,goose3PosX,$goosey3.dy,$goosey3.dw,$goosey3.dh);e.drawImage($goosey4.img,$goosey4.sx1,$goosey4.sy,$goosey4.sw,$goosey4.sh,goose4PosX,$goosey4.dy,$goosey4.dw,$goosey4.dh);e.drawImage($goosey5.img,$goosey5.sx1,$goosey5.sy,$goosey5.sw,$goosey5.sh,goose5PosX,$goosey5.dy,$goosey5.dw,$goosey5.dh);e.drawImage($goosey6.img,$goosey6.sx1,$goosey6.sy,$goosey6.sw,$goosey6.sh,goose6PosX,$goosey6.dy,$goosey6.dw,$goosey6.dh);e.drawImage($goosey7.img,$goosey7.sx1,$goosey7.sy,$goosey7.sw,$goosey7.sh,goose7PosX,$goosey7.dy,$goosey7.dw,$goosey7.dh);e.drawImage($goosey8.img,$goosey8.sx1,$goosey8.sy,$goosey8.sw,$goosey8.sh,goose8PosX,$goosey8.dy,$goosey8.dw,$goosey8.dh);e.restore();k++}else{e.drawImage(R.img,R.sx2,R.sy,R.sw,R.sh,goose1PosX,R.dy,R.dw,R.dh);e.drawImage($goosey2.img,$goosey2.sx2,$goosey2.sy,$goosey2.sw,$goosey2.sh,goose2PosX,$goosey2.dy,$goosey2.dw,$goosey2.dh);e.drawImage($goosey3.img,$goosey3.sx2,$goosey3.sy,$goosey3.sw,$goosey3.sh,goose3PosX,$goosey3.dy,$goosey3.dw,$goosey3.dh);e.drawImage($goosey4.img,$goosey4.sx2,$goosey4.sy,$goosey4.sw,$goosey4.sh,goose4PosX,$goosey4.dy,$goosey4.dw,$goosey4.dh);e.drawImage($goosey5.img,$goosey5.sx2,$goosey5.sy,$goosey5.sw,$goosey5.sh,goose5PosX,$goosey5.dy,$goosey5.dw,$goosey5.dh);e.drawImage($goosey6.img,$goosey6.sx2,$goosey6.sy,$goosey6.sw,$goosey6.sh,goose6PosX,$goosey6.dy,$goosey6.dw,$goosey6.dh);e.drawImage($goosey7.img,$goosey7.sx2,$goosey7.sy,$goosey7.sw,$goosey7.sh,goose7PosX,$goosey7.dy,$goosey7.dw,$goosey7.dh);e.drawImage($goosey8.img,$goosey8.sx2,$goosey8.sy,$goosey8.sw,$goosey8.sh,goose8PosX,$goosey8.dy,$goosey8.dw,$goosey8.dh);e.restore();k++}if(k>20){k=0}L=L+2}function Q(e){for(i=0;i<I;i++){e.drawImage(u,17+14*i,287)}}var e=$("#canvas"),t=document.getElementById("canvas").getContext("2d"),n=document.getElementById("score"),r=new Image,s=new Image,o=new Image,u=new Image,a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m,g,b,w,E,S,T,N=600,C=50,k=0,L=0,A=0,O=0,M=false,_=false,D=false,P=false,H=false,B=false,j=false,F=false,I=10,q=0,R={img:o,sx1:0,sy:0,sx2:50,sw:50,sh:50,dx:-1,dy:20,dw:50,dh:50};var U=[400,1e3,1020,1200,1800,1860,2400,2440,2480];var z=[{img:o,sx1:0,sy:0,sx2:50,sw:50,sh:50,dx:600+Math.round(Math.random()*30),dy:20,dw:50,dh:50},{img:o,sx1:100,sy:0,sx2:150,sw:50,sh:50,dx:1e3,dy:20,dw:50,dh:50},{img:o,sx1:200,sy:0,sx2:250,sw:50,sh:50,dx:1600,dy:20,dw:50,dh:50},{img:o,sx1:300,sy:0,sx2:350,sw:50,sh:50,dx:1620+Math.round(Math.random()*30),dy:20,dw:50,dh:50},{img:o,sx1:400,sy:0,sx2:450,sw:50,sh:50,dx:1800+Math.round(Math.random()*30),dy:20,dw:50,dh:50},{img:o,sx1:0,sy:0,sx2:50,sw:50,sh:50,dx:2460+Math.round(Math.random()*30),dy:20,dw:50,dh:50},{img:o,sx1:100,sy:0,sx2:150,sw:50,sh:50,dx:3e3,dy:20,dw:50,dh:50},{img:o,sx1:200,sy:0,sx2:250,sw:50,sh:50,dx:3080,dy:20,dw:50,dh:50}];console.log(z[0]);window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}();r.src="img/Duck-Hunt.jpg";s.src="img/rifle.png";o.src="img/gooseSprite.png";u.src="img/ammunition.png";e.mousemove(function(e){m=e.pageX;g=e.pageY;b=m/4+280;w=g/4+200;E=m-(235+b);S=g-(230+w);radians=Math.atan2(S,E);T=radians+2.36});(function G(){V(t,b,w,E,S,T);J(t,m,g);K(t);W();Q(t);requestAnimFrame(G)})();e.mousedown(function(e){function r(){q++;n.innerHTML=q}x=e.pageX;y=e.pageY;var t=$("#gun");t.get(0).play();I--;if(x>goose1PosX&&y>R.dy){if(x<goose1PosX+30&&y<R.dy+20){r();M=true}}if(x>goose2PosX&&y>$goosey2.dy){if(x<goose2PosX+30&&y<$goosey2.dy+20){r();_=true}}if(x>goose3PosX&&y>$goosey3.dy){if(x<goose3PosX+30&&y<$goosey3.dy+20){r();D=true}}if(x>goose4PosX&&y>$goosey4.dy){if(x<goose4PosX+30&&y<$goosey4.dy+20){r();P=true}}if(x>goose5PosX&&y>$goosey5.dy){if(x<goose5PosX+30&&y<$goosey5.dy+20){r();H=true}}if(x>goose6PosX&&y>$goosey6.dy){if(x<goose6PosX+30&&y<$goosey6.dy+20){r();B=true}}if(x>goose7PosX&&y>$goosey7.dy){if(x<goose7PosX+30&&y<$goosey7.dy+20){r();j=true}}if(x>goose8PosX&&y>$goosey8.dy){if(x<goose8PosX+30&&y<$goosey8.dy+20){r();F=true}}if(I<=0){alert("You bagged "+q+" birds");if(q===0){alert("unlucky. Why not try our barndoor challenge")}}});})()